{"ast":null,"code":"import{getDownloadURL,ref,uploadBytes}from\"firebase/storage\";import{storage}from\"../firebase\";export async function uploadFileToFirebaseStorage(file){const filePath=`uploads/${Date.now()}_${file.name}`;const storageRef=ref(storage,filePath);const metadata=file.type?{contentType:file.type}:undefined;try{await uploadBytes(storageRef,file,metadata);return await getDownloadURL(storageRef);}catch(error){console.error(\"Firebase Storage upload failed:\",error);throw error instanceof Error?error:new Error(\"Unknown upload error\");}}","map":{"version":3,"names":["getDownloadURL","ref","uploadBytes","storage","uploadFileToFirebaseStorage","file","filePath","Date","now","name","storageRef","metadata","type","contentType","undefined","error","console","Error"],"sources":["/Users/229240/Downloads/iLanMessage/src/storage/uploadFile.ts"],"sourcesContent":["import { getDownloadURL, ref, uploadBytes } from \"firebase/storage\";\nimport { storage } from \"../firebase\";\n\nexport async function uploadFileToFirebaseStorage(file: File) {\n    const filePath = `uploads/${Date.now()}_${file.name}`;\n    const storageRef = ref(storage, filePath);\n    const metadata = file.type ? { contentType: file.type } : undefined;\n\n    try {\n        await uploadBytes(storageRef, file, metadata);\n        return await getDownloadURL(storageRef);\n    } catch (error) {\n        console.error(\"Firebase Storage upload failed:\", error);\n        throw error instanceof Error ? error : new Error(\"Unknown upload error\");\n    }\n}\n"],"mappings":"AAAA,OAASA,cAAc,CAAEC,GAAG,CAAEC,WAAW,KAAQ,kBAAkB,CACnE,OAASC,OAAO,KAAQ,aAAa,CAErC,MAAO,eAAe,CAAAC,2BAA2BA,CAACC,IAAU,CAAE,CAC1D,KAAM,CAAAC,QAAQ,CAAG,WAAWC,IAAI,CAACC,GAAG,CAAC,CAAC,IAAIH,IAAI,CAACI,IAAI,EAAE,CACrD,KAAM,CAAAC,UAAU,CAAGT,GAAG,CAACE,OAAO,CAAEG,QAAQ,CAAC,CACzC,KAAM,CAAAK,QAAQ,CAAGN,IAAI,CAACO,IAAI,CAAG,CAAEC,WAAW,CAAER,IAAI,CAACO,IAAK,CAAC,CAAGE,SAAS,CAEnE,GAAI,CACA,KAAM,CAAAZ,WAAW,CAACQ,UAAU,CAAEL,IAAI,CAAEM,QAAQ,CAAC,CAC7C,MAAO,MAAM,CAAAX,cAAc,CAACU,UAAU,CAAC,CAC3C,CAAE,MAAOK,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,iCAAiC,CAAEA,KAAK,CAAC,CACvD,KAAM,CAAAA,KAAK,WAAY,CAAAE,KAAK,CAAGF,KAAK,CAAG,GAAI,CAAAE,KAAK,CAAC,sBAAsB,CAAC,CAC5E,CACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}