{"ast":null,"code":"import { getDownloadURL, ref, uploadBytes } from \"firebase/storage\";\nimport { storage } from \"../firebase\";\nexport async function uploadFileToFirebaseStorage(file) {\n  const filePath = `uploads/${Date.now()}_${file.name}`;\n  const storageRef = ref(storage, filePath);\n  const metadata = file.type ? {\n    contentType: file.type\n  } : undefined;\n  try {\n    await uploadBytes(storageRef, file, metadata);\n    return await getDownloadURL(storageRef);\n  } catch (error) {\n    console.error(\"Firebase Storage upload failed:\", error);\n    throw error instanceof Error ? error : new Error(\"Unknown upload error\");\n  }\n}","map":{"version":3,"names":["getDownloadURL","ref","uploadBytes","storage","uploadFileToFirebaseStorage","file","filePath","Date","now","name","storageRef","metadata","type","contentType","undefined","error","console","Error"],"sources":["/Users/229240/Downloads/iLanMessage/src/storage/uploadFile.ts"],"sourcesContent":["import { getDownloadURL, ref, uploadBytes } from \"firebase/storage\";\nimport { storage } from \"../firebase\";\n\nexport async function uploadFileToFirebaseStorage(file: File) {\n    const filePath = `uploads/${Date.now()}_${file.name}`;\n    const storageRef = ref(storage, filePath);\n    const metadata = file.type ? { contentType: file.type } : undefined;\n\n    try {\n        await uploadBytes(storageRef, file, metadata);\n        return await getDownloadURL(storageRef);\n    } catch (error) {\n        console.error(\"Firebase Storage upload failed:\", error);\n        throw error instanceof Error ? error : new Error(\"Unknown upload error\");\n    }\n}\n"],"mappings":"AAAA,SAASA,cAAc,EAAEC,GAAG,EAAEC,WAAW,QAAQ,kBAAkB;AACnE,SAASC,OAAO,QAAQ,aAAa;AAErC,OAAO,eAAeC,2BAA2BA,CAACC,IAAU,EAAE;EAC1D,MAAMC,QAAQ,GAAG,WAAWC,IAAI,CAACC,GAAG,CAAC,CAAC,IAAIH,IAAI,CAACI,IAAI,EAAE;EACrD,MAAMC,UAAU,GAAGT,GAAG,CAACE,OAAO,EAAEG,QAAQ,CAAC;EACzC,MAAMK,QAAQ,GAAGN,IAAI,CAACO,IAAI,GAAG;IAAEC,WAAW,EAAER,IAAI,CAACO;EAAK,CAAC,GAAGE,SAAS;EAEnE,IAAI;IACA,MAAMZ,WAAW,CAACQ,UAAU,EAAEL,IAAI,EAAEM,QAAQ,CAAC;IAC7C,OAAO,MAAMX,cAAc,CAACU,UAAU,CAAC;EAC3C,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;IACvD,MAAMA,KAAK,YAAYE,KAAK,GAAGF,KAAK,GAAG,IAAIE,KAAK,CAAC,sBAAsB,CAAC;EAC5E;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}